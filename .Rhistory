geom_line(aes(y=employees))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employers/1000000))+
geom_line(aes(y=employees/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employees/1000000))+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employees/1000000))+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.)/16, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employees/1000000))+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employees/1000000))+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.*16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date))+
geom_line(aes(y=employees/1000000))+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~./20), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~./20), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~./20), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans = (~.*scale), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~.*scale, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~.*employers, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~.employers, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~.*employers, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line()+
geom_line(aes(y=employers/1000000))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~.*employers), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>10),aes(x=date,y=employees/1000000))+
geom_line(aes(color="Empleadores (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleados (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
View(employers)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date,y=employees/1000000))+
geom_line(aes(color="Empleadores (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleados (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date,y=employees/1000000))+
geom_line(aes(color="Empleados (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/100000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~.), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/100000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=16*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=employers/(16*1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=16*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./16), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=15*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./15), name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=15*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =(~./15.7), name="Empleados (en millones)")
)
#axis plot
ylim.prim <- c(12, 16)
ylim.sec <- c(0.75, 0.84)
b <- diff(ylim.prim)/diff(ylim.sec)
a <- ylim.prim[1] - b*ylim.sec[1])
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=15*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
)
#axis plot
ylim.prim <- c(12, 16)
ylim.sec <- c(0.75, 0.84)
b <- diff(ylim.prim)/diff(ylim.sec)
a <- ylim.prim[1] - b*ylim.sec[1])
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=15*employers/1000000,color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
)
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y=15*employers/1000000,color="Empleadores (en millones)"))
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = a + (employers/1000000)*b,color="Empleadores (en millones)"))
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + (employers/1000000)*b),color="Empleadores (en millones)"))
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/100000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
)
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/100000),color="Empleadores (en millones)"))
rlang::last_error()`
`rlang::last_error()` `
`rlang::last_error()`
last_error()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))
employers
employementfull$employers
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/100000),color="Empleadores (en millones)"))
a
b
(ylim.prim[1] - b*ylim.sec[1]))[1]
(ylim.prim[1] - b*ylim.sec[1])[,1]
a[,1]
sf_to_df(ylim.prim[1] - b*ylim.sec[1])
?sf_to_df
pacman::p_load("tidyverse","readxl","haven","sf","rgdal","RecordLinkage",
"rmapshaper","geojsonio", "gganimate","gapminder","sfheaders")
sf_to_df(ylim.prim[1] - b*ylim.sec[1])
sf_to_df(ylim.prim[1] - b*ylim.sec[1])
ylim.prim[1] - b*ylim.sec[1]
ylim.prim[1] - b*ylim.sec[1]
a <- ylim.prim[1] - b*ylim.sec[1]
a
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/100000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
)
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
fill = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: Censo General de Población y Vivienda 2000") +
theme_minimal()+ #lo pongo bonito
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
fill = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "IMSS") +
theme_minimal() #lo pongo bonito
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() #lo pongo bonito
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() +#lo pongo bonito
theme(legend.position="bottom")
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"))+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"),linetype = "dashed")+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() +#lo pongo bonito
theme(legend.position="bottom")
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"),linetype = "dashed")+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() +#lo pongo bonito
theme(legend.position="bottom")
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"),linetype = "dashed", color="black")+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() +#lo pongo bonito
theme(legend.position="bottom")
#Plot trabajo en millions ()
ggplot(employementfull%>%filter(employers>0),aes(x=date))+
geom_line(aes(y=employees/1000000,color="Empleados (en millones)"),linetype = "dashed")+
geom_line(aes(y = (a + employers*b/1000000),color="Empleadores (en millones)"))+
scale_y_continuous(
# Primer Eje
name = "Empleadores (en millones)",
#segundo eje
sec.axis = sec_axis(trans =~ (. - a)/b, name="Empleados (en millones)")
) +labs(x = "Fecha",   #cambio detalles
color = "",
title = "Número de Empleadores y Empleados Afiliados
al Seguro Social Mexicano",
subtitle = "Figura 1",
caption = "Fuente: IMSS") +
theme_minimal() +#lo pongo bonito
theme(legend.position="bottom")
ggsave("employement.eps", plot = last_plot(),
path = "outputs",
width = 200, height = 135, units = "mm") #lo guardo como eps
